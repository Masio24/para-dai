<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Kareshi</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>
  <style>
    .hearts-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }

    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background: pink;
      transform: rotate(45deg);
      animation: float 5s linear infinite;
    }

    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background: pink;
      border-radius: 50%;
    }

    .heart::before {
      top: -10px;
      left: 0;
    }

    .heart::after {
      left: -10px;
      top: 0;
    }

    @keyframes float {
      0% {
        transform: translateY(0) rotate(45deg);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) rotate(45deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <audio id="bg-music" src="assets/musica.mp3" autoplay loop></audio>
  <div class="hearts-container" id="hearts-container"></div>

  <!-- Página 1 -->
  <section class="page" id="page1">
    <h1 class="title">HOLA</h1>
    <button class="next-button" onclick="goToPage(2)">jeje sigue bajando</button>
  </section>

  <!-- Página 2 -->
  <section class="page scroll-text-page" id="page2">
    <div class="scroll-text">
      <p>Good boy, obediente como me gusta, ahora continúa bajando</p>
      <p>Llevo un tiempo pensando cómo hacer esto, eres alguien muy especial para mí y no pienso darte un trato ordinario, así que tuve que pensar y pensar</p>
      <p>Pero no te preocupes mi niño lindo, soy un genio sugoi y por fin pensé en algo que creí que te gustaría y con suerte te haría reír un rato jeje nice</p>
      <p>Eto... Oni chan eres alguien sugoi que me hace sentir ureshi cuando estoy contigo y muy kanashi cuando no estás <img src="assets/timid-anime-boy.gif" class="inline-gif"></p>
    </div>
    <button class="next-button" onclick="goToPage(3)">continuar?</button>
  </section>

  <!-- Página 3 -->
  <section class="page scroll-text-page" id="page3">
    <div class="scroll-text">
      <p>Es increíble que puedo ser yo mismo sin limitarme a nada y no trates de salir huyendo de mi sigma aura, no cualquiera puede tolerarla y suelo tener que esconderla a menudo con la gente que convivo</p>
      <p>Puedo ser serio o puedo ser baka estando contigo</p>
      <p>Baaaaaaaaaaaaaaaaaaaka</p>
      <p>Me gustas mucho Daikinen, por más que te lo digo no siento que sea suficiente, me gustas mucho mucho y quiero estar contigo</p>
      <p>Daaaaaaaaaaaaaaai Suki!</p>
      <p>Quiero pasar el resto de mis días contigo, sabes? Motto motto motto, necesito más de tí</p>
      <p>Por favor sé mi kareshi, prometo que dedicaré mi cuerpo, alma y toda mi existencia a hacerte el chico más feliz del mundo pero antes de que me des una respuesta,  sigue bajando, my good boy</p>
    </div>
    <button class="next-button" onclick="goToPage(4)">continuar?</button>
  </section>

  <!-- Página 4 (Gachapón) -->
  <section class="page" id="page4">
    <div class="gacha-machine" style="margin-top: 80px;">
      <img src="assets/gachapon.png" alt="Gachapon" class="gachapon-image" />
      <div class="lever" onclick="pullLever()"></div>
    </div>
    <div id="gacha-output" class="gacha-output"></div>
    <audio id="gacha-sound" src="assets/gacha-sound.mp3"></audio>
    <button class="next-button" onclick="goToPage(5)">continuar?</button>
  </section>

  <!-- Página 5 -->
  <section class="page" id="page5">
    <h2 class="title">Aceptarás ser mi kareshi, onii chan?</h2>
    <img src="assets/imagen1.jpg" class="final-image" />
    <div class="choice-buttons">
      <button onclick="goToPage(6)">Sí</button>
      <button onclick="goToPage(7)">No</button>
    </div>
  </section>

  <!-- Página 6 -->
  <section class="page" id="page6">
    <img src="assets/abrazo.gif" class="final-image" />
    <p class="final-text">Ureshiii, ahora no te soltaré nunca:3 mwaaah</p>
  </section>

  <!-- Página 7 -->
  <section class="page" id="page7">
    <img src="assets/plan b.jpg" class="final-image" />
    <p class="final-text">Oioioioioi cómo que no baka! Te voy a follar, bueno es hora del plan B (brujería y magia oscura)</p>
  </section>

  <script>
    const pages = document.querySelectorAll('.page');
    let currentPage = 1;

    function goToPage(n) {
      document.getElementById('bg-music').play();
      pages.forEach(p => p.style.display = 'none');
      document.getElementById(`page${n}`).style.display = 'block';
      currentPage = n;
      if (n === 4) document.getElementById('bg-music').pause();
      else document.getElementById('bg-music').play();
    }

    goToPage(currentPage);

    // Gachapón
    const gachaOutput = document.getElementById('gacha-output');
    const gachaSound = document.getElementById('gacha-sound');
    const gachaTexts = [
      "Aishiteru Daikinen, te voy a amar siempre y te voy a dar muchos cariñitos y amor de muchas maneras (también le daré amor a tu ochinchin)",
      "Siempre estaré para ayudarte con cualquier cosa que necesites (y sé hacer muchas cosas así que prometo ser útil! uwu nya)",
      "Quiero algo bonito contigo, no me voy a ir a ningún lado sólo porque cometas errores. Al contrario, quiero ayudarte a aprender de tus errores y verte crecer como persona mientras yo hago lo mismo",
      "Si aceptas ser mi kareshi prometo ahorrar cada cierto tiempo para ir a visitarte y pasar tiempo contigo irl de manera regular (y quién sabe, en un futuro no muy lejano podríamos vivir juntos:3)",
      "Aún sigues leyendo esto? mucho texto, pero si llegaste hasta aquí te ganaste un premio por tomarme tanta importancia, eres el mejor!",
      "No lo sabes, pero soy una persona a la que le va muy bien en la vida en general, he logrado muchísimas cosas y siempre que me propongo algo lo cumplo, el hecho de que me quieras sin saber todo eso de mí también me hace feliz, estoy harto de la gente interesada"
    ];
    let gachaIndex = 0;

    function pullLever() {
      if (gachaIndex < gachaTexts.length) {
        gachaSound.play();
        gachaOutput.innerHTML = '';
        const newBall = document.createElement('div');
        newBall.className = 'gacha-ball';
        newBall.innerText = gachaTexts[gachaIndex];
        gachaOutput.appendChild(newBall);
        gachaIndex++;
      }
    }

    // Corazones flotantes
    const heartsContainer = document.getElementById('hearts-container');
    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.top = Math.random() * 100 + 'vh';
      heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }
    setInterval(createHeart, 300);
  </script>
</body>
</html>
